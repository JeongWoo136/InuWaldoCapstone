# InuWaldoCapstone
2022 inu Capstone project

# 10/3 회의 내용<br>
프로젝트 명: 킥보드 마스터<br>
프로젝트 내용: 킥보드 운점점수를 토대로 킥보드 실력 상승 프로젝트<br>

교수님에게 질문사항<br>
교내 입찰 시스템이 무엇인가?<br>
충돌감지센서 - 킥보드의 충돌을 어떻게 감지할 것인가? 아두이노는 너무 미세한 충돌감지하고 에어백센서는 너무 거대한 충돌감지, 기술적으로 불가능할시 사고횟수로 취급<br>

다음 할 일<br>
10/13까지 기자재 신청 마무리<br>
요구사항설계서 맛보기(소프트웨어공학 복습!)<br>

기능<br>
킥보드 센서x 핸드폰으로 데이터 측정(GPS+자이로센서)<br>
단순한 운전점수 - 월별 운전점수 출력, 일별 특이점 출력(넘어짐, 충돌 등)<br>
운전점수랑 연관지은 길찾기 시스템 - 운전점수에 따른 차등된 길찾기 시스템(높은 점수일수록 안전도를 덜 고려한 최단거리 추천)<br>
휴대폰 거치대 - 파우치 or 케이스<br>
넘어짐이 많은 구역 경고<br>
앱 범위 - 송도1동<br>
안전한 길찾기 - 방지턱(로드뷰로 데이터 생성), 어린이보호구역, 사고횟수, 오르막길+내리막길(날씨를 고려한 점수)<br>
킥보드 전용 길찾기 알고리즘 - 신호등, 횡단보도 고려한 길찾기<br>


# 10/10 회의 내용<br>
교내 입찰 시스템 다음주 월(17일)까지 질문 및 신청 마무리<br>
기자재 신청 안함<br>

기능<br>
공용킥보드 앱을 만든다는 가정하에 운점 점수 측정할 수 있는 기능<br>
자이로 센서는 가속센서도 측정가능하다. 그렇다면 급커브 감지 기능을 넣을 수 있을 것인가?(자이로센서를 이용해보고 판단해보기)<br>
어린이 보호구역에서 속도 제한 대략 20km/h로 설정<br>
사용자에게 이득이 되는 제도: 요금에 비례한 마일리지 제도<br>
지급되는 마일리지 비용 = 킥보드 손실 비용이라는 명분<br>
"킥보드 마스터"라는 이름에 걸맞은 킥보드의 마스터를 뽑는 운전 점수 랭킹 시스템<br>
내리막길에서 35km/h(수치 미정)이상 과속시 속도에 비례한 운전 점수 차감<br>
(우선순위 낮음)운전점수를 토대로 사용자의 실력 피드백<br>
안내 메세지 - 내리막길, 어린이 보호구역, 사고 다발 구역(충돌, 넘어짐)<br>
핸드폰 자이로 센서 or 킥보드 센서 부착 - 정확한 수치와 판단이 가능 방법을 이용<br>

 1. 졸업관련<br>
     1) 학위논문(졸업작품) 지도교수 및 논문제목 승인신청서 제출 : ~ 2022. 11. 30.(수)까지 (서약서, 동의서 같이 필수 제출)<br>
         - 팀별로 작성하여 학과사무실로 제출하여야 함(팀별로 제출해주세요)<br>

             : 지도교수님 서명 후 학과사무실로 제출<br>

         - 학과장님 서명 부분은 학과에서 일괄적으로 확인 후 서명 예정(즉, 지도교수님 확인만 받으면 됩니다.)<br>
<br>

# 10/24 회의 내용<br>
주요 참여자 : 조보겸, 김정우<br>
역할분담<br>
김정우:ppt작성을 주도, 피드백 ppt 수정, 반영<br>
조보겸:발표대본작성, ppt피드백, 24일에 발표<br>
박시현:시험일정으로 인해 간접적인 피드백만.<br>
<br>
기능의 구체화, ppt발표<br>
우리앱의 차별적, 핵심점기능은 운전점수, 길찾기, 보상제도 3가지로 구분함<br>
1.운전점수측정<br>
운점점수 산출에 반영되는 측정요소 6가지를 선별함<br>
급회전, 급가속+급정거, 넘어짐, 위험구역, 과속, 충격 이 6가지 요소를 gps와 자이로 센서를 통해측정<br>
측정기준은 자동차에 사용되는 기준을 변형하여 사용할 예정. 자동차 측정기준:https://patents.google.com/patent/KR101803662B1/ko<br>
2.길찾기<br>
서비스 지역은 송도 1동으로 한정함. 광범위의 어린이보호구역등의 위험구역 데이터를 구하기 어려움. 직접 수집해야함에 따라 지역을 한정함.<br>
자신의 실력에 맞는 경로를추천하고 위험한 상황에서 안내메시지를 출력하는 기능. 킥보드의 이동방식에 맞춘 길 안내 기능도 포함함.<br>
3.보상제도<br>
운전점수를 잘받은 운전자에게 금전적 보상(마일리지)제공 예정.<br>
불량사용자들을 걸러내는 것에서 경제적 이익이 발생할 것으로 예상.<br>
<br>



# 11/6 ~ 11/7 회의 내용<br>
통합문서 작성- 개발목표, 개발범위, 사용시나리오, 문제점<br>
3명이 모두함께 참여하여 브레인스토밍. 3시간씩 이틀에 나눠 진행.<br>
1.개발목표<br>
-센서로 측정한 데이터를 토대로 운전 점수로 환산<br>
-환산된 운전 점수에 비례해서 사용자에게 부가적인 혜택(마일리지) 제공<br>
-운전 점수 데이터를 바탕으로 사용자와 킥보드에 최적화된 길 찾기 시스템을 제공<br>
2.개발범위<br>
2-1 운전점수<br>
2-1-1. 센서를 활용한 킥보드 운전 데이터 측정<br>
-자이로센서: 급회전, 급감속, 사고(충격+넘어짐)<br>
-GPS: 과속<br>
2-1-2. 운전 점수 변환 수식을 활용하여 측정된 데이터를 운전 점수로 변환<br>
<br>
2-2. 킥보드에 최적화된 길 찾기<br>
2-2-1. 신호등, 횡단보도, 킥보드 통행규정 등을 고려한 킥보드 전용길 찾기 <br>
2-2-2. ‘송도 1동’에 대한 킥보드 전용길 찾기를 제공할 예정<br>
2-2-3. 위험구역 설정, 구간별로 위험도 가중치 설정<br>
-경사로<br>
-어린이 보호구역<br>
-사고 다발 구역<br>
2-2-4. 운전 점수에 따른 개별적인 길 찾기 제공<br>
-운전 점수가 기준보다 높은 사용자에게는 최단시간 길 찾기 제공<br>
-운전 점수가 기준보다 낮은 사용자에게는 위험구역을 최소화하는 길 찾기 제공<br>
<br>
2-3. 사용되는 기술<br>
2-3-1. FrontEnd: React<br>
2-3-2. BackEnd: Spring, MySQL<br>
2-3-3. 데이터 처리<br>
-기본 계획은 휴대전화에 내장된 자이로센서를 활용한 실시간 데이터 처리<br>
-차후 추가로 휴대전화 자이로센서의 데이터 처리가 원활하지 않을시, 킥보드에 센서(아두이노 or 라즈베리)를 사용해서 데이터 처리할 예정<br>
<br>
3.사용시나리오<br>
일반적인 사용자가 사용하는 상황을 상정. 우리 앱의 기능을 잘보여줄 수 있는 예시를 그림과 함께 작성.<br>
1.<상황설정> 학생 김xx는 수업에 지각할 상황에서 공유 킥보드를 발견했다.<br>
2. 킥보드마스터 앱을 실행하고 안전경로 검색기능을 실행했다.<br>
3. 김xx는 핸드폰을 킥보드에 장착하고 경로를 보며 주행을 시작한다.<br>
4.김xx는 주행중 과속을 했다. 동시에 센서를 통해 과속을 감지한 우리 앱에서는 과속알람을 통해 사용자에게 경고한다.<br>
5.김xx은 목적지에 도착한 후 운전점수에 따른 마일리지를 적립받는다.<br>
<br>
4.문제점<br>
1. 데이터가 정확하고 명확하게 측정된 데이터일지 검증 필요<br>
2. 킥보드의 운전에 관한 법규나 규정이 명확하지 않음<br>
3. 데이터셋(ex위험구역)이 없으므로 ‘송도 1동’이라는 제한된 구역 설정<br>
4. 완전한 공유 킥보드 앱이 아닌 특정 기능만 구현한 공유 킥보드 앱 개발<br>
5. 운전 점수 측정 요소가 제한적이며, 일부 측정 요소(급회전, 날씨 등)가 제외<br>
<br>


# 11/14, 11/21 회의 내용<br>
주요 참여자 : 박시현, 김정우, 조보겸<br>
역할분담<br>
박시현:ppt작성을 ,ppt 수정, 발표(조장 조보겸의 독감 이슈로 대리로 발표함)<br>
김정우:ppt작성보조, 발표대본 수정<br>
조보겸:전반적 대본작성<br>
<br>
전에 만든 통합문서를 기반으로 주로 ppt작성을 위주로 진행- ppt에 필요한 각종 시각적자료 작성<br>

# 11/26 회의 내용<br>
주요 참여자: 조보겸, 박시현, 김정우<br>
지난 발표에서 받은 피드백: 사용시나리오에 다양한 분기들을 상정하지 않음. ex 신규사용자. 데이터를 어떻게 구할지 정해지지않음, 길찾기 아이디어는 식상하다. 등<br>
<br>
사용자시나리오 수정. 기존의 일반적 상황만을 상정한 사용시나리오를 신규사용자와 기존사용자, 자유주행, 목적지주행으로 나눠 시나리오를 작성<br>
사용자 상황: 사용자는 공유 킥보드를 사용하기 위해서 공유 킥보드 앱인 킥보드 마스터 앱을 실행한다.<br>

1. 킥보드 마스터 앱을 로그인한다.<br>
1-1. 킥보드 마스터 앱을 처음 사용하는 경우<br>
-회원가입을 통해 사용자 계정을 만든 후 로그인을 통해 시스템을 이용할 수 있다.<br>
1-2. 킥보드 마스터 앱을 사용한 적 있는 경우<br>
-회원가입 없이 로그인을 통해 시스템을 이용할 수 있다.<br>

2. 사용자는 안전경로 검색기능을 실행 후 목적지 입력화면에서 선택한다.<br>

상황 1. 목적지 없이 주행할 경우<br>
-UI에서 자유 운행기능을 선택 후 길 찾기 기능을 제외하고 자유롭게 주행<br>
상황 2. 목적지 입력 후 주행할 경우<br>
-UI에서 목적지 입력 후 운전 점수에 따른 길 찾기를 추천받는다.<br>
<br>
상황 2-1. 운전 점수가 없는 무경험 사용자<br>
-운전 점수가 없는 무경험 사용자는 default 운전 점수를 적용하여 경로를 추천받는다. <br>
상황 2-2. 운전 점수가 있는 유경험 사용자<br>
-운전 점수가 있는 유경험 사용자는 기존에 보유한 운전 점수의 평균값으로 경로를 추천받는다.<br>
<br>
3. 킥보드에는 핸드폰을 장착할 수 있는 핸드폰 거치대가 존재하므로 사용자는 핸드폰을 거치대에 장착하고, 사용자는 주행을 시작한다.<br>

상황 1. 사용자가 주행 중 위험구역을 주행하게 될 경우<br>
-사용자에게 위험구역 알람을 통해 사용자에게 경고한다. <br>
상황 2. 사용자가 주행 중 교통 법규를 위반하게 된 경우<br>
-센서를 통해 위험 행동을 감지한 앱은 위험 알람을 통해 사용자에게 경고한다.<br>
상황 3. 사용자가 주행 중 추천 경로에서 벗어난 경우<br>
-현재 위치에서 목적지까지 새로운 길 찾기를 제공한다.<br>

4. 사용자는 목적지에 도착한 후 사용자의 운전 데이터를 토대로 운전 점수가 산출되고 이에 따른 마일리지를 적립 받는다.<br>
4-1. 운전 점수 결과가 기준보다 낮은 사용자<br>
-기본 지급 마일리지에서 운전 점수에 비례한 마일리지를 차감 후 적립 받는다.<br>
4-2. 운전 점수 결과가 기준보다 높은 사용자<br>
-기본 지급 마일리지에서 운전 점수에 비례한 마일리지를 추가 후 적립 받는다.<br>
<br>
길찾기는 식상하다는 지적에 대해<br>
안전운전을 메인으로 두고 길찾기를 추가요소로 두는 것이 원래 생각한 개발목표임

다음 회의에서는 데이터수집 방법에대해 토의할 예정

# 12/2 회의 내용<br>
참여자: 조보겸, 김정우, 박시현<br>
토의할 내용<br>

1.지원비용 사용 신청<br>
전동킥보드 구매, 헬멧구매<br>
인당 지원금 10만원씩 총 30만원<br>
세그웨이 나인봇 ES2/ES4 29만 8천원 선정<br>
https://smartstore.naver.com/biclo_outlet/products/4151451886?<br>
헬멧은 따로 구매하기로<br>

2.방학계획<br>
12월 4주차부터 시작<br>
12월 4주차 : <br>
공통 : 길찾기 데이터셋 구축 (2주이상 예상)<br>
조보겸 : 프론트 ui 프로토타입제작. (gps, 자이로센서 테스트용 ui)<br>
김정우 : 백엔드 서버 환경설정. 백엔드 erd정의<br>
박시현 : 백엔드 서버 환경설정. 백엔드 erd정의<br>
<br>
12월 5주차 : <br>
공통 : 길찾기 데이터셋 구축 (2주이상 예상)<br>
조보겸 : 지도 api 리액트 연동<br>
김정우 : 스마트폰 gps 자이로센서 리액트와 연동. <br>
박시현 : 백엔드 리액트에서 필요한 api 기능 설계<br>

1월 1~2주차 :<br>
조보겸 : 프론트 전반적인 프로토타입 개발 - 로그인 등, 실제 킥보드 주행데이터 수집<br>
김정우 : 백엔드 api기능 구현 - 로그인, 급회전<br>
박시현 : 백엔드 api기능 구현 - 급가속, 급감속<br>

1월 3~4주차 :<br>
조보겸 : 각종 상황에 맞는 세부 ui 구현 - 경고, 로그인 등<br>
김정우 : 백엔드 api 구현 - 위험구역 안내<br>
박시현 : 백엔드 api 구현 - 사고 보고<br>

2월 1~2주차 :<br>
조보겸 : 운점점수 관련 ui, 마일리지, 결제 ui 구현<br>
김정우 : 백엔드 api구현 - 운전점수 산출 알고리즘<br>
박시현 : 백엔드 api구현 - 자유운행 구현<br>

2월 3~4주차 :<br>
조보겸 : 경로안내 ui 구현<br>
김정우 : 백엔드 api구현 - 경로 추천 알고리즘 구현<br>
박시현 : 백엔드 api구현 - 경로 추천 알고리즘 구현<br>

# 2022 겨울방학 활동기록<br>

# 12/22 회의<br>
참여자: 조보겸, 김정우, 박시현<br>
<br/>
토의 내용<br>
수집할 데이터 정의(데이터 스키마: 2022_winter_vacation_activities/data_form_plan.docx)<br>
<br/>
개발 첫 주차 일정 계획<br>
1. 데이터 수집 계획 - 구역 나눠 각 노드 지정 - 월요일까지<br>
2. 1번 작업이후 경계부분 노드 분배, 노드별 데이터 입력<br>
3. 각자 개발환경설정 프론트- 리액트, gps api 사용.  백엔드- 인텔리제이 스프링부트 환경설정<br>

# 12/29 회의
참여자: 조보겸, 김정우, 박시현<br>
<br/>
토의 내용<br>
1. 구역 내 전체 노드 정리
2. 추가된 요구사항 - 차량 진입로 노드 진입시 경고문구 기능
3. 링크 테이블에 차량 진입로 숫자 추가
4. 경고문구 정의 - 차량 진입로, 어린이 보호 구역, 사고 다발 구역, 횡단보도(보행자 기준, 자동차 기준)

수정사항
1. 구역 내 어린이 보호 구역 체크
2. 구역 내 차량진입로 파란 색으로 저장
3. 구역 내 테두리 노드 삭제

계획
1. 구역 내 노드 번호 설정(1000~1999, 2000~2999, 3000~3999) 및 위도 경도 데이터 삽입
2. 화,수,목요일 20:00~24:00까지 자율적 개발 시간 참여
3. 월요일 21:00 고정 회의
4. 각자 개발 공부
5. 구역 내 차량진입로 파란 색으로 저장

# 1/2 회의
참여자: 조보겸, 김정우, 박시현<br>
<br/>
토의 내용<br>
1. 구역 내 어린이 보호구역 검은 선으로 표시
2. 회의 시간동안 개발 공부

# 1/9 회의
참여자: 김정우, 박시현<br>
<br/>
토의 내용<br>
1. api 정리

# 1/31 회의
참여자: 조보겸, 김정우, 박시현<br>
<br/>
토의 내용<br>
1. 프론트 개발 계획
2. 백엔드 데이터베이스 연동

# 2/7 회의
참여자: 조보겸, 김정우, 박시현<br>
<br/>
토의 내용<br>
1. 프론트 환경 설정과 연동
2. 백엔드 테이블 생성

# 2/13 회의
참여자: 조보겸, 김정우, 박시현<br>
<br/>
토의 내용<br>
1. 프론트 어플리케이션 시연
2. 백엔드 경로 추천 기능 구현(ing)

# 2/20 회의
참여자: 조보겸, 김정우, 박시현<br>
<br/>
토의 내용<br>
1. 프론트 개발
2. 백엔드 경로 추천 기능 구현(ing)
3. 백엔드 회원가입 기능 구현(ing)

# 2/27 회의
참여자: 조보겸, 김정우, 박시현<br>
<br/>
토의 내용<br>
1. 링크 가중치 결정 회의
2. 링크 최대 거리를 300m로 기준을 잡고 노드 세분화 작업
3. 링크 가중치 내용(예정): <br>
100점 만점 기준<br>
어린이보호구역(20%) - true(=0점), false(=20점)<br>
사고횟수(20%) - 0회(=20점) ~ (2회=0점)<br>
차량진입로(20%) - 기본 20점 - 개당 5점<br>
거리(40%) - 0m(=40점) ~ 300m(=0점)<br>
